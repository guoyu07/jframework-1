<!DOCTYPE html>

<html>
<head>
  <title>tracker.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="autodict.html">
                  autodict.coffee
                </a>
              
                
                <a class="source" href="autolist.html">
                  autolist.coffee
                </a>
              
                
                <a class="source" href="autovar.html">
                  autovar.coffee
                </a>
              
                
                <a class="source" href="components.html">
                  components.coffee
                </a>
              
                
                <a class="source" href="AreYouSure.html">
                  AreYouSure.coffee
                </a>
              
                
                <a class="source" href="Button.html">
                  Button.coffee
                </a>
              
                
                <a class="source" href="CancelButton.html">
                  CancelButton.coffee
                </a>
              
                
                <a class="source" href="DeleteButton.html">
                  DeleteButton.coffee
                </a>
              
                
                <a class="source" href="Dropdown.html">
                  Dropdown.coffee
                </a>
              
                
                <a class="source" href="EditButton.html">
                  EditButton.coffee
                </a>
              
                
                <a class="source" href="Expandable.html">
                  Expandable.coffee
                </a>
              
                
                <a class="source" href="KeyValueTable.html">
                  KeyValueTable.coffee
                </a>
              
                
                <a class="source" href="LinkButton.html">
                  LinkButton.coffee
                </a>
              
                
                <a class="source" href="Loader.html">
                  Loader.coffee
                </a>
              
                
                <a class="source" href="SubmitCancelDelete.html">
                  SubmitCancelDelete.coffee
                </a>
              
                
                <a class="source" href="TableRow.html">
                  TableRow.coffee
                </a>
              
                
                <a class="source" href="TextBox.html">
                  TextBox.coffee
                </a>
              
                
                <a class="source" href="denorm.html">
                  denorm.coffee
                </a>
              
                
                <a class="source" href="dict.html">
                  dict.coffee
                </a>
              
                
                <a class="source" href="dom.html">
                  dom.coffee
                </a>
              
                
                <a class="source" href="BooksDemo.html">
                  BooksDemo.coffee
                </a>
              
                
                <a class="source" href="SampleData.html">
                  SampleData.coffee
                </a>
              
                
                <a class="source" href="BatteryApi.html">
                  BatteryApi.coffee
                </a>
              
                
                <a class="source" href="ChatRoom.html">
                  ChatRoom.coffee
                </a>
              
                
                <a class="source" href="Home.html">
                  Home.coffee
                </a>
              
                
                <a class="source" href="Main.html">
                  Main.coffee
                </a>
              
                
                <a class="source" href="NotFound.html">
                  NotFound.coffee
                </a>
              
                
                <a class="source" href="chat.html">
                  chat.coffee
                </a>
              
                
                <a class="source" href="routes.html">
                  routes.coffee
                </a>
              
                
                <a class="source" href="main.html">
                  main.coffee
                </a>
              
                
                <a class="source" href="fetching.html">
                  fetching.coffee
                </a>
              
                
                <a class="source" href="j.html">
                  j.coffee
                </a>
              
                
                <a class="source" href="list.html">
                  list.coffee
                </a>
              
                
                <a class="source" href="models.html">
                  models.coffee
                </a>
              
                
                <a class="source" href="proptypes.html">
                  proptypes.coffee
                </a>
              
                
                <a class="source" href="publish.html">
                  publish.coffee
                </a>
              
                
                <a class="source" href="routing.html">
                  routing.coffee
                </a>
              
                
                <a class="source" href="autovar-tests.html">
                  autovar-tests.coffee
                </a>
              
                
                <a class="source" href="denorm-tests.html">
                  denorm-tests.coffee
                </a>
              
                
                <a class="source" href="dict-tests.html">
                  dict-tests.coffee
                </a>
              
                
                <a class="source" href="jframework-client-tests.html">
                  jframework-client-tests.coffee
                </a>
              
                
                <a class="source" href="jframework-tests.html">
                  jframework-tests.coffee
                </a>
              
                
                <a class="source" href="list-tests.html">
                  list-tests.coffee
                </a>
              
                
                <a class="source" href="publish-tests.html">
                  publish-tests.coffee
                </a>
              
                
                <a class="source" href="test-models.html">
                  test-models.coffee
                </a>
              
                
                <a class="source" href="util-tests.html">
                  util-tests.coffee
                </a>
              
                
                <a class="source" href="tracker.html">
                  tracker.coffee
                </a>
              
                
                <a class="source" href="util.html">
                  util.coffee
                </a>
              
                
                <a class="source" href="var.html">
                  var.coffee
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>tracker.coffee</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>Copyright 2015, Quixey Inc.
All rights reserved.</p>
<p>Licensed under the Modified BSD License found in the
LICENSE file in the root directory of this source tree.</p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>A few things to augment Meteor’s Tracker.</p>
<p>We monkey patch the tracker package because
we want other Meteor packages like “mongo”
to use the same global object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>

dummyComputation = Tracker.autorun -&gt;
<span class="hljs-keyword">if</span> dummyComputation._id <span class="hljs-keyword">isnt</span> <span class="hljs-number">1</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>A computation was already created by one of the packages that jframework
uses, which means it may be too late for our monkey patch to work right.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">console</span>.warn <span class="hljs-string">"JFramework's attempt to monkey patch Tracker might not work."</span>
dummyComputation.stop()

Tracker.active = <span class="hljs-literal">false</span>

Tracker.currentComputation = <span class="hljs-literal">null</span>
<span class="hljs-function">
<span class="hljs-title">setCurrentComputation</span> = <span class="hljs-params">(c)</span> -&gt;</span>
    Tracker.currentComputation = c
    Tracker.active = c?
<span class="hljs-function">
<span class="hljs-title">_debugFunc</span> = -&gt;</span> Meteor?._debug ? <span class="hljs-built_in">console</span>?.log ? -&gt;
<span class="hljs-function">
<span class="hljs-title">withNoYieldsAllowed</span> = <span class="hljs-params">(f)</span> -&gt;</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> Meteor? <span class="hljs-keyword">or</span> Meteor.isClient <span class="hljs-keyword">then</span> f
    <span class="hljs-keyword">else</span> -&gt;
        args = arguments
        Meteor._noYieldsAllowed -&gt; f.apply <span class="hljs-literal">null</span>, args

Tracker.pendingComputations = []</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>true if a Tracker.flush is scheduled, or if we are in Tracker.flush now</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Tracker.willFlush = <span class="hljs-literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>true if we are in Tracker.flush now</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Tracker.inFlush = <span class="hljs-literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>true if we are computing a computation now, either first time
or recompute.  This matches Tracker.active unless we are inside
Tracker.nonreactive, which nullifies currentComputation even though
an enclosing computation may still be running.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Tracker.inCompute = <span class="hljs-literal">false</span>

Tracker.afterFlushCallbacks = []
<span class="hljs-function">
<span class="hljs-title">requireFlush</span> = -&gt;</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> Tracker.willFlush
        setTimeout Tracker.flush, <span class="hljs-number">1</span>
        Tracker.willFlush = <span class="hljs-literal">true</span></pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Tracker.Computation constructor is visible but private
(throws an error if you try to call it)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Tracker._constructingComputation = <span class="hljs-literal">false</span>;

Tracker.Computation = <span class="hljs-function"><span class="hljs-params">(f, creator)</span> -&gt;</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> Tracker._constructingComputation
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error <span class="hljs-string">"Tracker.Computation constructor is private;
            use Tracker.autorun"</span>

    Tracker._constructingComputation = <span class="hljs-literal">false</span>

    <span class="hljs-property">@stopped</span> = <span class="hljs-literal">false</span>
    <span class="hljs-property">@invalidated</span> = <span class="hljs-literal">false</span>

    <span class="hljs-property">@_id</span> = J.getNextId()
    <span class="hljs-keyword">if</span> J.debugGraph <span class="hljs-keyword">then</span> J.graph[<span class="hljs-property">@_id</span>] = @

    <span class="hljs-property">@_onInvalidateCallbacks</span> = []

    <span class="hljs-property">@creator</span> = creator
    <span class="hljs-property">@_func</span> = f

    <span class="hljs-property">@firstRun</span> = <span class="hljs-literal">true</span>
    <span class="hljs-property">@_compute</span>()
    <span class="hljs-property">@firstRun</span> = <span class="hljs-literal">false</span>


Tracker.<span class="hljs-attribute">Computation</span>::onInvalidate = <span class="hljs-function"><span class="hljs-params">(f)</span> -&gt;</span>
    <span class="hljs-keyword">unless</span> _.isFunction f
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error <span class="hljs-string">"onInvalidate requires a function"</span>

    <span class="hljs-keyword">if</span> Meteor.isServer
        f = Meteor.bindEnvironment f

    <span class="hljs-keyword">if</span> <span class="hljs-property">@invalidated</span>
        Tracker.nonreactive =&gt;
            withNoYieldsAllowed(f) @
    <span class="hljs-keyword">else</span>
        <span class="hljs-property">@_onInvalidateCallbacks</span>.push f


Tracker.<span class="hljs-attribute">Computation</span>::invalidate = <span class="hljs-function">-&gt;</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@invalidated</span>

    <span class="hljs-property">@invalidated</span> = <span class="hljs-literal">true</span>

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-property">@stopped</span>
        Tracker.pendingComputations.push @

        <span class="hljs-keyword">if</span> Tracker.pendingComputations.length &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> (
            <span class="hljs-property">@sortKey</span> &lt; Tracker.pendingComputations[Tracker.pendingComputations.length - <span class="hljs-number">2</span>].sortKey
        )
            J.inc <span class="hljs-string">'pcSort'</span>
            Tracker.pendingComputations.sort (a, b) -&gt;
                <span class="hljs-keyword">if</span> a.sortKey &lt; b.sortKey <span class="hljs-keyword">then</span> -<span class="hljs-number">1</span>
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> a.sortKey &gt; b.sortKey <span class="hljs-keyword">then</span> <span class="hljs-number">1</span>
                <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>

        requireFlush()</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Callbacks can’t add callbacks, because
self.invalidated is true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> <span class="hljs-property">@_onInvalidateCallbacks</span>
        Tracker.nonreactive =&gt; withNoYieldsAllowed(f) @

    <span class="hljs-property">@_onInvalidateCallbacks</span> = []


Tracker.<span class="hljs-attribute">Computation</span>::stop = <span class="hljs-function">-&gt;</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-property">@stopped</span>
        <span class="hljs-property">@stopped</span> = <span class="hljs-literal">true</span>
        <span class="hljs-property">@invalidate</span>()


Tracker.<span class="hljs-attribute">Computation</span>::_compute = <span class="hljs-function">-&gt;</span>
    i = Tracker.pendingComputations.indexOf @
    <span class="hljs-keyword">if</span> i &gt;= <span class="hljs-number">0</span>
        Tracker.pendingComputations.splice i, <span class="hljs-number">1</span>

    <span class="hljs-property">@invalidated</span> = <span class="hljs-literal">false</span>

    previous = Tracker.currentComputation
    setCurrentComputation @
    previousInCompute = Tracker.inCompute
    Tracker.inCompute = <span class="hljs-literal">true</span>

    <span class="hljs-keyword">try</span>
        withNoYieldsAllowed(<span class="hljs-property">@_func</span>) @
    <span class="hljs-keyword">finally</span>
        setCurrentComputation previous
        Tracker.inCompute = previousInCompute


Tracker.<span class="hljs-attribute">Computation</span>::debug = <span class="hljs-function">-&gt;</span>
    <span class="hljs-built_in">console</span>.group <span class="hljs-string">"Computation[<span class="hljs-subst">#{<span class="hljs-property">@_id</span>}</span>]"</span>
    <span class="hljs-keyword">if</span> <span class="hljs-property">@autoVar</span>
        <span class="hljs-property">@autoVar</span>.debug()
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@component</span>
        <span class="hljs-property">@component</span>.debug()
    <span class="hljs-built_in">console</span>.groupEnd()


Tracker.flush = <span class="hljs-function">-&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>console.debug “Tracker.flush!”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-keyword">if</span> Tracker.inFlush
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error <span class="hljs-string">"Can't call Tracker.flush while flushing"</span>

    <span class="hljs-keyword">if</span> Tracker.inCompute
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error <span class="hljs-string">"Can't flush inside Tracker.autorun"</span>

    Tracker.inFlush = <span class="hljs-literal">true</span>
    Tracker.willFlush = <span class="hljs-literal">true</span>

    <span class="hljs-keyword">while</span> Tracker.pendingComputations.length <span class="hljs-keyword">or</span> Tracker.afterFlushCallbacks.length</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Recompute all pending computations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">while</span> Tracker.pendingComputations.length
            comp = Tracker.pendingComputations.shift()</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>console.debug ‘recompute’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            comp._compute() <span class="hljs-keyword">unless</span> comp.stopped
            J.inc <span class="hljs-string">'recompute'</span>

        <span class="hljs-keyword">if</span> Tracker.afterFlushCallbacks.length
            J.inc <span class="hljs-string">'afterFlush'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Call one afterFlush callback, which may
invalidate more computations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            afc = Tracker.afterFlushCallbacks.shift()</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>console.debug ‘afterFlush’, afc</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            afc.func.call <span class="hljs-literal">null</span></pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>console.debug ‘flush done’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    Tracker.willFlush = <span class="hljs-literal">false</span>
    Tracker.inFlush = <span class="hljs-literal">false</span>


Tracker.autorun = <span class="hljs-function"><span class="hljs-params">(f, sortKey = <span class="hljs-number">0.5</span>)</span> -&gt;</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> _.isFunction f
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error <span class="hljs-string">"Tracker.autorun requires a function argument"</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> _.isNumber sortKey
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error <span class="hljs-string">"Tracker.autorun sortKey must be a number"</span>

    <span class="hljs-keyword">if</span> Meteor.isServer
        f = Meteor.bindEnvironment f

    Tracker._constructingComputation = <span class="hljs-literal">true</span>
    c = <span class="hljs-keyword">new</span> Tracker.Computation f, Tracker.currentComputation
    c.sortKey = sortKey

    <span class="hljs-keyword">if</span> Tracker.active
        Tracker.onInvalidate -&gt; c.stop()

    c


Tracker.nonreactive = <span class="hljs-function"><span class="hljs-params">(f)</span> -&gt;</span>
    previous = Tracker.currentComputation
    setCurrentComputation <span class="hljs-literal">null</span>
    ret = f()
    setCurrentComputation previous
    ret


Tracker.onInvalidate = <span class="hljs-function"><span class="hljs-params">(f)</span> -&gt;</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> Tracker.active
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error <span class="hljs-string">"Tracker.onInvalidate requires a currentComputation"</span>

    Tracker.currentComputation.onInvalidate f


Tracker.afterFlush = <span class="hljs-function"><span class="hljs-params">(f, sortKey = <span class="hljs-number">0.5</span>)</span> -&gt;</span>
    <span class="hljs-keyword">if</span> Meteor.isServer
        f = Meteor.bindEnvironment f

    <span class="hljs-keyword">unless</span> _.isNumber(sortKey)
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error <span class="hljs-string">"afterFlush sortKey must be a number (lower comes first)"</span>

    Tracker.afterFlushCallbacks.push <span class="hljs-attribute">func</span>: f, <span class="hljs-attribute">sortKey</span>: sortKey

    <span class="hljs-keyword">if</span> Tracker.afterFlushCallbacks.length &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> (
        sortKey &lt; Tracker.afterFlushCallbacks[Tracker.afterFlushCallbacks.length - <span class="hljs-number">2</span>].sortKey
    )
        Tracker.afterFlushCallbacks.sort (a, b) -&gt;
            <span class="hljs-keyword">if</span> a.sortKey &lt; b.sortKey <span class="hljs-keyword">then</span> -<span class="hljs-number">1</span>
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> a.sortKey &gt; b.sortKey <span class="hljs-keyword">then</span> <span class="hljs-number">1</span>
            <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>

    requireFlush()



<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Tracker</span>.<span class="hljs-title">Dependency</span></span></pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Like Meteor’s Tracker.Dependency except that a “creator”,
i.e. a reactive data source, should be able to freely read
its own reactive values as it’s mutating them without
invalidating itself.
But the creator should still invalidate if it reads
its own values which other objects then mutate.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-attribute">constructor</span>: <span class="hljs-function"><span class="hljs-params">(creator)</span> -&gt;</span>
        <span class="hljs-property">@creator</span> =
            <span class="hljs-keyword">if</span> creator <span class="hljs-keyword">is</span> <span class="hljs-literal">undefined</span>
                Tracker.currentComputation
            <span class="hljs-keyword">else</span>
                creator

        <span class="hljs-property">@_dependents</span> = []


    <span class="hljs-attribute">depend</span>: <span class="hljs-function"><span class="hljs-params">(computation = Tracker.currentComputation)</span> -&gt;</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> computation?

        <span class="hljs-keyword">if</span> computation <span class="hljs-keyword">in</span> <span class="hljs-property">@_dependents</span>
            <span class="hljs-literal">false</span>
        <span class="hljs-keyword">else</span>
            <span class="hljs-property">@_dependents</span>.push computation
            computation.onInvalidate =&gt;
                i = <span class="hljs-property">@_dependents</span>.indexOf computation
                <span class="hljs-property">@_dependents</span>.splice i, <span class="hljs-number">1</span>
            <span class="hljs-literal">true</span>


    <span class="hljs-attribute">changed</span>: <span class="hljs-function">-&gt;</span>
        <span class="hljs-keyword">for</span> computation <span class="hljs-keyword">in</span> _.clone <span class="hljs-property">@_dependents</span>
            <span class="hljs-keyword">unless</span> computation <span class="hljs-keyword">is</span> Tracker.currentComputation <span class="hljs-keyword">is</span> <span class="hljs-property">@creator</span>
                computation.invalidate()


    <span class="hljs-attribute">hasDependents</span>: <span class="hljs-function">-&gt;</span>
        <span class="hljs-property">@_dependents</span>.length &gt; <span class="hljs-number">0</span></pre></div></div>
            
        </li>
        
    </ul>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="http://fuelyourcoding.com/scripts/toc/js/jquery.tableofcontents.min.js"></script>
  <script>
    $(function () {
      $("h1").first().after("<ul id='toc'>").after("<hr>");
      $("#toc").after("<hr>").tableOfContents(null, {
        startLevel: 2,
        depth: 10
      });
    });
  </script>
</body>
</html>
